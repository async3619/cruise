fragment FullPlayingLog on PlayingLog {
    id
    music {
        ...MinimalMusic
    }
}

query needScan {
    needScan
}

query search($query: String!, $mode: SearchMode!) {
    search(query: $query, mode: $mode) {
        musics {
            ...MinimalMusic
        }
        albums {
            ...MinimalAlbum
        }
        artists {
            ...MinimalArtist
        }
        total
    }
}

query searchSuggestions($query: String!, $limit: Int!) {
    searchSuggestions(query: $query, limit: $limit) {
        id
        name
        type
    }
}

query playingLogs($take: Int!) {
    playingLogs(take: $take) {
        ...FullPlayingLog
    }
}

mutation scan {
    scan
}

mutation createLog($musicId: Int!) {
    createLog(musicId: $musicId)
}

subscription scanningStateChanged {
    scanningStateChanged
}

subscription logCreated {
    playingLogCreated {
        ...FullPlayingLog
    }
}
