fragment MinimalPlaylist on Playlist {
    id
    name
}

fragment FullPlaylist on Playlist {
    ...MinimalPlaylist
    musics {
        ...MinimalMusic
    }
}

query playlists {
    playlists {
        ...MinimalPlaylist
    }
}

query playlist($id: Int!) {
    playlist(id: $id) {
        ...FullPlaylist
    }
}

mutation createPlaylist($input: CreatePlaylistInput!) {
    createPlaylist(input: $input) {
        ...MinimalPlaylist
    }
}
mutation createPlaylistFromMusics($input: CreatePlaylistInput!, $musicIds: [Int!]!) {
    createPlaylistFromMusics(input: $input, musicIds: $musicIds) {
        ...MinimalPlaylist
    }
}
mutation addMusicsToPlaylist($musicIds: [Int!]!, $playlistId: Int!) {
    addMusicsToPlaylist(musicIds: $musicIds, playlistId: $playlistId) {
        id
    }
}
mutation updatePlaylist($id: Int!, $input: UpdatePlaylistInput!) {
    updatePlaylist(id: $id, input: $input) {
        ...MinimalPlaylist
    }
}
mutation deletePlaylist($id: Int!) {
    deletePlaylist(id: $id)
}
mutation deleteMusicsFromPlaylist($indices: [Int!]!, $playlistId: Int!) {
    deleteMusicsFromPlaylist(playlistId: $playlistId, indices: $indices) {
        id
    }
}

subscription playlistAdded {
    playlistAdded {
        ...MinimalPlaylist
    }
}
subscription playlistUpdated {
    playlistUpdated {
        ...MinimalPlaylist
    }
}
subscription playlistRemoved {
    playlistRemoved
}
